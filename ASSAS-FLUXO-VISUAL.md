# ğŸ¨ Fluxo Visual - IntegraÃ§Ã£o com Assas

## ğŸ“Š Diagrama de Credenciais

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PAINEL DO ASSAS                          â”‚
â”‚                 https://sandbox.asaas.com                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                           â”‚
        â–¼                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API KEY        â”‚                    â”‚   WEBHOOK TOKEN      â”‚
â”‚                  â”‚                    â”‚                      â”‚
â”‚ IntegraÃ§Ãµes â†’    â”‚                    â”‚ IntegraÃ§Ãµes â†’        â”‚
â”‚ Chaves de API    â”‚                    â”‚ Webhooks â†’           â”‚
â”‚                  â”‚                    â”‚ Token AutenticaÃ§Ã£o   â”‚
â”‚ $aact_YTU5...    â”‚                    â”‚ meu-token-123        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                           â”‚
        â”‚                                           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   .env FILE      â”‚
                    â”‚                  â”‚
                    â”‚ ASSAS_API_KEY=   â”‚
                    â”‚ ASSAS_WEBHOOK_   â”‚
                    â”‚   TOKEN=         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  SEU SISTEMA     â”‚
                    â”‚  (Backend)       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Fluxo de Pagamento Completo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CLIENTE    â”‚
â”‚  (Frontend)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. Escolhe plano
       â”‚    e mÃ©todo de pagamento
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BACKEND    â”‚
â”‚ (Seu Sistema)â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 2. Envia dados para Assas
       â”‚    usando ASSAS_API_KEY
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ASSAS     â”‚
â”‚   (API)      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 3. Processa pagamento
       â”‚    e retorna resultado
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BACKEND    â”‚
â”‚ (Seu Sistema)â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 4. Salva no banco
       â”‚    e notifica cliente
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CLIENTE    â”‚
â”‚  (Frontend)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”” Fluxo de Webhook

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ASSAS     â”‚
â”‚  (Servidor)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. Evento ocorre
       â”‚    (pagamento confirmado)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WEBHOOK    â”‚
â”‚   REQUEST    â”‚
â”‚              â”‚
â”‚ POST /api/   â”‚
â”‚ payments/    â”‚
â”‚ webhook      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 2. Envia com token
       â”‚    no header
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BACKEND    â”‚
â”‚ (Seu Sistema)â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 3. Valida token
       â”‚    (ASSAS_WEBHOOK_TOKEN)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VALIDAÃ‡ÃƒO   â”‚
â”‚              â”‚
â”‚ Token OK? âœ… â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 4. Processa evento
       â”‚    (atualiza status)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BANCO DE    â”‚
â”‚    DADOS     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Identificando Cada Credencial

### 1ï¸âƒ£ API KEY - Como Identificar

```
CaracterÃ­sticas:
âœ“ ComeÃ§a com: $aact_
âœ“ Muito longa (100+ caracteres)
âœ“ ContÃ©m letras, nÃºmeros e sÃ­mbolos
âœ“ Exemplo: $aact_YTU5YTE0M2M2N2I4MTliNzk0YTI5N2U5MzdjNWZmNDQ6OjAwMDAwMDAwMDAwMDAwNzI1Njk6OiRhYWNoXzRlNTU0ZGQyLTBmYTQtNDczYy04MmQyLTI4ZjZlNGFkNGM4Mw==

Onde estÃ¡ no Assas:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Painel Assas                        â”‚
â”‚                                     â”‚
â”‚ â˜° Menu                              â”‚
â”‚   â”œâ”€ Dashboard                      â”‚
â”‚   â”œâ”€ CobranÃ§as                      â”‚
â”‚   â”œâ”€ Clientes                       â”‚
â”‚   â””â”€ IntegraÃ§Ãµes â† AQUI             â”‚
â”‚       â””â”€ Chaves de API â† AQUI       â”‚
â”‚                                     â”‚
â”‚ Sua Chave de API:                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ $aact_YTU5YTE0M2M2N2I4MTli... â”‚ â”‚
â”‚ â”‚ [Copiar] [Mostrar]              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2ï¸âƒ£ WEBHOOK TOKEN - Como Identificar

```
CaracterÃ­sticas:
âœ“ VocÃª define (qualquer string)
âœ“ Recomendado: 20-50 caracteres
âœ“ Use letras, nÃºmeros e hÃ­fens
âœ“ Exemplo: meu-webhook-token-secreto-2024

Onde configurar no Assas:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Painel Assas                        â”‚
â”‚                                     â”‚
â”‚ â˜° Menu                              â”‚
â”‚   â””â”€ IntegraÃ§Ãµes                    â”‚
â”‚       â””â”€ Webhooks â† AQUI            â”‚
â”‚                                     â”‚
â”‚ Configurar Webhook:                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ URL do Webhook:                 â”‚ â”‚
â”‚ â”‚ https://seu-dominio.com/api/... â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ Token de AutenticaÃ§Ã£o: â† AQUI   â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ meu-token-secreto-123       â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ [Salvar]                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Exemplo PrÃ¡tico de ConfiguraÃ§Ã£o

### Passo a Passo Visual

```
PASSO 1: Criar conta no Assas
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ https://sandbox.asaas.com           â”‚
â”‚                                     â”‚
â”‚ [Criar Conta GrÃ¡tis]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASSO 2: Obter API Key
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IntegraÃ§Ãµes â†’ Chaves de API         â”‚
â”‚                                     â”‚
â”‚ Sua chave:                          â”‚
â”‚ $aact_YTU5YTE0M2M2N2I4MTli...      â”‚
â”‚ [Copiar] â† CLIQUE AQUI              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASSO 3: Configurar Webhook
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IntegraÃ§Ãµes â†’ Webhooks              â”‚
â”‚                                     â”‚
â”‚ URL: https://seu-dominio.com/api/   â”‚
â”‚      payments/webhook               â”‚
â”‚                                     â”‚
â”‚ Token: meu-token-123 â† VOCÃŠ DEFINE  â”‚
â”‚                                     â”‚
â”‚ Eventos: â˜‘ Todos                    â”‚
â”‚ [Salvar]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASSO 4: Configurar no .env
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ backend/.env                        â”‚
â”‚                                     â”‚
â”‚ ASSAS_API_KEY=$aact_YTU5YTE0...    â”‚
â”‚ ASSAS_WEBHOOK_TOKEN=meu-token-123   â”‚
â”‚ ASSAS_ENVIRONMENT=sandbox           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASSO 5: Reiniciar sistema
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ $ docker-compose restart backend    â”‚
â”‚                                     â”‚
â”‚ âœ… Backend reiniciado!              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ DiferenÃ§a Visual: Sandbox vs ProduÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SANDBOX                             â”‚
â”‚                    (Ambiente de Testes)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ ğŸ§ª URL: https://sandbox.asaas.com                          â”‚
â”‚ ğŸ’° Pagamentos: SIMULADOS (nÃ£o cobra de verdade)            â”‚
â”‚ ğŸ”‘ API Key: $aact_hmlg_...                                 â”‚
â”‚ ğŸ“§ Emails: Enviados para email de teste                    â”‚
â”‚ ğŸ¯ Uso: Desenvolvimento e testes                           â”‚
â”‚                                                             â”‚
â”‚ âœ… Pode testar Ã  vontade                                   â”‚
â”‚ âœ… Dados resetados periodicamente                          â”‚
â”‚ âœ… Sem custos                                              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       PRODUÃ‡ÃƒO                              â”‚
â”‚                    (Ambiente Real)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ ğŸ’¼ URL: https://www.asaas.com                              â”‚
â”‚ ğŸ’° Pagamentos: REAIS (cobra de verdade)                    â”‚
â”‚ ğŸ”‘ API Key: $aact_...                                      â”‚
â”‚ ğŸ“§ Emails: Enviados para clientes reais                    â”‚
â”‚ ğŸ¯ Uso: Sistema em produÃ§Ã£o                                â”‚
â”‚                                                             â”‚
â”‚ âš ï¸ Cuidado com testes                                      â”‚
â”‚ âš ï¸ Dados permanentes                                       â”‚
â”‚ âš ï¸ Cobra taxas do Assas                                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Como Saber se EstÃ¡ Configurado Corretamente

### Checklist Visual

```
âœ… API Key configurada
   â”œâ”€ Arquivo .env tem ASSAS_API_KEY
   â”œâ”€ Valor comeÃ§a com $aact_
   â””â”€ Tem mais de 100 caracteres

âœ… Webhook Token configurado
   â”œâ”€ Arquivo .env tem ASSAS_WEBHOOK_TOKEN
   â”œâ”€ Mesmo valor no painel do Assas
   â””â”€ Webhook URL configurada no Assas

âœ… Ambiente correto
   â”œâ”€ ASSAS_ENVIRONMENT=sandbox (dev)
   â””â”€ ASSAS_ENVIRONMENT=production (prod)

âœ… Sistema funcionando
   â”œâ”€ Backend inicia sem erros
   â”œâ”€ Logs mostram "âœ… Assas inicializado"
   â””â”€ Pode criar cobranÃ§as de teste
```

---

## ğŸš¨ Erros Comuns e Como Identificar

```
âŒ ERRO: "Invalid API Key"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Causa:                              â”‚
â”‚ â€¢ API Key incorreta                 â”‚
â”‚ â€¢ Copiou incompleta                 â”‚
â”‚ â€¢ Usando key de prod no sandbox     â”‚
â”‚                                     â”‚
â”‚ Como identificar:                   â”‚
â”‚ â€¢ Logs mostram erro 401             â”‚
â”‚ â€¢ Mensagem "unauthorized"           â”‚
â”‚                                     â”‚
â”‚ SoluÃ§Ã£o:                            â”‚
â”‚ 1. Copie a key completa do Assas    â”‚
â”‚ 2. Verifique o ambiente correto     â”‚
â”‚ 3. Reinicie o backend               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âŒ ERRO: "Webhook signature invalid"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Causa:                              â”‚
â”‚ â€¢ Token diferente no .env e Assas   â”‚
â”‚ â€¢ Token com espaÃ§os                 â”‚
â”‚                                     â”‚
â”‚ Como identificar:                   â”‚
â”‚ â€¢ Webhook nÃ£o processa              â”‚
â”‚ â€¢ Logs mostram "invalid signature"  â”‚
â”‚                                     â”‚
â”‚ SoluÃ§Ã£o:                            â”‚
â”‚ 1. Compare tokens (.env vs Assas)   â”‚
â”‚ 2. Remova espaÃ§os extras            â”‚
â”‚ 3. Reconfigure webhook no Assas     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Teste RÃ¡pido - 5 Minutos

```
1ï¸âƒ£ Abra o terminal
   $ cd backend

2ï¸âƒ£ Teste a API Key
   $ node -e "console.log(process.env.ASSAS_API_KEY)"
   
   âœ… Deve mostrar: $aact_YTU5YTE0...
   âŒ Se vazio: Configure o .env

3ï¸âƒ£ Teste conexÃ£o com Assas
   $ npm run test:assas
   
   âœ… Deve mostrar: "ConexÃ£o OK"
   âŒ Se erro: Verifique a API Key

4ï¸âƒ£ Teste webhook
   â€¢ Crie cobranÃ§a no painel Assas
   â€¢ Verifique logs: docker-compose logs backend
   
   âœ… Deve mostrar: "Webhook recebido"
   âŒ Se nÃ£o: Configure webhook no Assas
```

---

**DÃºvidas?** Consulte: `ASSAS-CREDENCIAIS-GUIA.md`
